<!DOCTYPE html>
<html lang="es">
<link rel="icon" href="../favicon.png" type="image/png">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Personajes B2</title>

<style>

*{
  user-select:none;
  -webkit-user-select:none;
  -webkit-tap-highlight-color: transparent;
  box-sizing:border-box;
}

html, body{
  width:100%;
  overflow-x:hidden;
  touch-action: manipulation;
}

body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#000 url("../img/fondo.png") repeat;
  background-size:2000px 1500px;
  background-position:0 0;
  animation:fondoScroll 60s linear infinite;
  color:white;
  text-align:center;
  -webkit-text-size-adjust:100%;
  opacity:0;
  transition:.4s;
}

body.show{ opacity:1; }

@keyframes fondoScroll{
  from{ background-position:0 0; }
  to{ background-position:0 -1200px; }
}

header{
  padding:28px 20px;
  font-size:36px;
  font-weight:bold;
}

.personaje img{
  max-width:230px;
  width:80%;
  animation: flotar 3s ease-in-out infinite;
  -webkit-user-drag:none;
}

@keyframes flotar{
  0%{transform:translateY(0);}
  50%{transform:translateY(-12px);}
  100%{transform:translateY(0);}
}

.qr-viewer{
  display:flex;
  justify-content:center;
  margin:40px auto 15px;
}

.qr-box{
  background:white;
  padding:14px;
  border-radius:18px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:space-between;
  width:220px;
  height:300px;
  transition:.25s;
}

.qr-box span{
  font-size:22px;
  font-weight:700;
  color:black;
  margin-bottom:6px;
}

.qr-box img{
  width:180px;
  height:180px;
  object-fit:contain;
  border-radius:12px;
  -webkit-user-drag:none;
}

.qr-box.used{
  background:#222;
}

.qr-box.used img{
  filter:grayscale(1) brightness(.4);
  opacity:.6;
}

.counter{
  margin-top:6px;
  font-size:16px;
  opacity:.8;
}

.nav-bottom{
  display:flex;
  justify-content:center;
  gap:20px;
  margin:10px 0 25px;
}

.nav{
  background:white;
  border:none;
  font-size:18px;
  padding:12px 24px;
  border-radius:30px;
  cursor:pointer;
  transition:.2s;
}

.nav:disabled{
  opacity:.4;
  cursor:default;
}

.actions{
  margin:20px 0 40px;
}

.actions a{
  display:inline-block;
  margin:12px;
  padding:14px 26px;
  background:rgba(255,255,255,.9);
  border-radius:30px;
  color:black;
  font-size:18px;
  text-decoration:none;
  transition:.2s;
}

@media(max-width:768px){
  header{ font-size:26px; }
  .qr-box{ width:180px; height:260px; }
  .qr-box img{ width:140px; height:140px; }
}

</style>
</head>

<body>

<header>Moneda-5-Estrellas</header>

<div class="personaje">
  <img src="../img/moneda-5yw3.png">
</div>

<div class="qr-viewer">
  <div class="qr-box">
    <span id="qrTitle"></span>
    <img id="qrImage">
    <div class="counter" id="qrCounter"></div>
  </div>
</div>

<div class="nav-bottom">
  <button class="nav left">‚¨Ö Anterior</button>
  <button class="nav right">Siguiente ‚û°</button>
</div>

<div class="actions">
  <a href="../personajesb2.html">‚¨Ö Volver</a>
  <a href="../index.html">üè† Inicio</a>
</div>

<script>
window.onload = ()=>{
  document.body.classList.add("show");
};

// bloquear zoom
let lastTouchEnd = 0;
document.addEventListener('touchend', e=>{
  const now = Date.now();
  if (now - lastTouchEnd <= 300) e.preventDefault();
  lastTouchEnd = now;
}, false);

document.addEventListener("dblclick", e=>e.preventDefault());

const qrs = [
{ title:"1", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-01.png" },
{ title:"2", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-02.png" },
{ title:"3", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-03.png" },
{ title:"4", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-04.png" },
{ title:"5", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-05.png" },
{ title:"6", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-06.png" },
{ title:"7", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-07.png" },
{ title:"8", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-08.png" },
{ title:"9", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-09.png" },
{ title:"10", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-10.png" },
{ title:"11", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-11.png" },
{ title:"12", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-12.png" },
{ title:"13", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-13.png" },
{ title:"14", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-14.png" },
{ title:"15", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-15.png" },
{ title:"16", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-16.png" },
{ title:"17", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-17.png" },
{ title:"18", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-18.png" },
{ title:"19", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-19.png" },
{ title:"20", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-20.png" },
{ title:"21", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-21.png" },
{ title:"22", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-22.png" },
{ title:"23", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-23.png" },
{ title:"24", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-24.png" },
{ title:"25", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-25.png" },
{ title:"26", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-26.png" },
{ title:"27", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-27.png" },
{ title:"28", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-28.png" },
{ title:"29", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-29.png" },
{ title:"30", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-30.png" },
{ title:"31", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-31.png" },
{ title:"32", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-32.png" },
{ title:"33", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-33.png" },
{ title:"34", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-34.png" },
{ title:"35", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-35.png" },
{ title:"36", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-36.png" },
{ title:"37", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-37.png" },
{ title:"38", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-38.png" },
{ title:"39", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-39.png" },
{ title:"40", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-40.png" },
{ title:"41", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-41.png" },
{ title:"42", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-42.png" },
{ title:"43", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-43.png" },
{ title:"44", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-44.png" },
{ title:"45", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-45.png" },
{ title:"46", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-46.png" },
{ title:"47", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-47.png" },
{ title:"48", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-48.png" },
{ title:"49", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-49.png" },
{ title:"50", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-50.png" },
{ title:"51", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-51.png" },
{ title:"52", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-52.png" },
{ title:"53", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-53.png" },
{ title:"54", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-54.png" },
{ title:"55", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-55.png" },
{ title:"56", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-56.png" },
{ title:"57", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-57.png" },
{ title:"58", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-58.png" },
{ title:"59", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-59.png" },
{ title:"60", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-60.png" },
{ title:"61", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-61.png" },
{ title:"62", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-62.png" },
{ title:"63", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-63.png" },
{ title:"64", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-64.png" },
{ title:"65", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-65.png" },
{ title:"66", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-66.png" },
{ title:"67", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-67.png" },
{ title:"68", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-68.png" },
{ title:"69", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-69.png" },
{ title:"70", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-70.png" },
{ title:"71", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-71.png" },
{ title:"72", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-72.png" },
{ title:"73", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-73.png" },
{ title:"74", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-74.png" },
{ title:"75", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-75.png" },
{ title:"76", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-76.png" },
{ title:"77", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-77.png" },
{ title:"78", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-78.png" },
{ title:"79", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-79.png" },
{ title:"80", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-80.png" },
{ title:"81", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-81.png" },
{ title:"82", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-82.png" },
{ title:"83", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-83.png" },
{ title:"84", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-84.png" },
{ title:"85", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-85.png" },
{ title:"86", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-86.png" },
{ title:"87", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-87.png" },
{ title:"88", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-88.png" },
{ title:"89", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-89.png" },
{ title:"90", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-90.png" },
{ title:"91", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-91.png" },
{ title:"92", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-92.png" },
{ title:"93", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-93.png" },
{ title:"94", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-94.png" },
{ title:"95", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-95.png" },
{ title:"96", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-96.png" },
{ title:"97", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-97.png" },
{ title:"98", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-98.png" },
{ title:"99", img:"../Yo-3/moneda5yw3/moneda-5-estrellas-99.png" },

];

let index = 0;
let used = JSON.parse(localStorage.getItem("qr_used")) || [];

const qrTitle = document.getElementById("qrTitle");
const qrImage = document.getElementById("qrImage");
const qrBox   = document.querySelector(".qr-box");
const counter = document.getElementById("qrCounter");
const leftBtn  = document.querySelector(".left");
const rightBtn = document.querySelector(".right");

function renderQR(){
  qrTitle.textContent = qrs[index].title;
  qrImage.src = qrs[index].img;
  counter.textContent = (index+1)+" / "+qrs.length;
  qrBox.classList.toggle("used", used.includes(index));

  leftBtn.disabled  = index === 0;
  rightBtn.disabled = index === qrs.length - 1;
}

leftBtn.onclick = ()=>{
  if(index > 0){
    index--;
    renderQR();
  }
};

rightBtn.onclick = ()=>{
  if(index < qrs.length - 1){
    index++;
    renderQR();
  }
};

qrBox.onclick = ()=>{
  if(used.includes(index)){
    used = used.filter(i=>i!==index);
  }else{
    used.push(index);
  }
  localStorage.setItem("qr_used", JSON.stringify(used));
  renderQR();
};

// swipe
let startX=0;
qrBox.addEventListener("touchstart",e=> startX=e.touches[0].clientX);
qrBox.addEventListener("touchend",e=>{
  let endX=e.changedTouches[0].clientX;

  if(startX-endX>50 && index<qrs.length-1){
    index++; renderQR();
  }

  if(endX-startX>50 && index>0){
    index--; renderQR();
  }
});

document.addEventListener("contextmenu", e=>e.preventDefault());

renderQR();
</script>

</body>
</html>
